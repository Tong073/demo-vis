!function(U,X){"use strict";var Y="ht",$=U[Y],_="px",K="left",L="top",r="bottom",n="right",V="innerHTML",t="className",N="",o="width",k="height",D="string",P="position",G="absolute",s="0",T="opacity",R="background",x=$.Default,O=x.getInternal(),A=$.Color,w=x.animate,f=x.isTouchable,F=x.isTouchEvent,u=null,y=(Math.sqrt,U.parseInt),Q=U.setTimeout,I=(Math.round,A.titleIconBackground),e=function(c){return typeof c===D||c instanceof String},g=function(){return document},c=function(A){return g().createElement(A)},W=function(){var _=c("div");return _.tabIndex=-1,_.style.outline="none",_},z=function(){return c("canvas")},a=function(u,a){m(u,"-webkit-transform",a),m(u,"-ms-transform",a),m(u,"transform",a)},m=function(Z,E,z){Z.style.setProperty(E,z,u)},J=function(Z,M,q){x.def($.widget[Z],M,q)},p=function(W,h){W.appendChild(h)},l=function(){return g().documentElement},b=function(){return l().clientWidth},E=function(){return l().clientHeight},M=O.addEventListener,S=O.removeEventListener,C=function(s){var c=s.touches[0];return c?c:s.changedTouches[0]};O.addMethod(x,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:I},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:I}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:I},{type:"rect",rect:[10,10,80,20],background:I}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:I},{type:"rect",rect:[10,34,56,14],background:I},{type:"rect",rect:[34,10,56,14],background:I},{type:"rect",rect:[82,10,8,56],background:I},{type:"rect",rect:[66,62,24,8],background:I}]},dialogTitleLabelColor:x.labelSelectColor,dialogTitleLabelFont:(f?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:x.labelFont,dialogTitleBackground:A.titleBackground,dialogHeaderBackground:A.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var d=function(s){var R=this;R.$1d=s,R.addListeners()};x.def(d,X,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(A){var S=this,w=S.$1d,H=w.$6d,k=w._config,n=w.$7d,G=A,R=A.target;if(n.contains(R)||x.preventDefault(A),x.isLeftButton(A)){F(A)&&(G=C(A));var p=S.$8d={x:G.pageX,y:G.pageY};S.$9d={x:p.x,y:p.y},!k.maximized&&k.draggable&&H.contains(R)&&(S.$4d=!0,x.startDragging(S,A)),S.handle_mousemove(A)&&(S.$2d=!0,x.startDragging(S,A)),n.contains(R)||R.focus()}},handle_mousedown:function(r){this.handle_touchstart(r)},handle_touchend:function(p){if(x.isLeftButton(p)&&!this.$5d&&!this.$3d){var l=this,R=l.$1d,e=p.target,E=R._config,y=R.$18d,J=R.$16d;for(E.closable&&y.contains(e)&&R.hide(),E.maximizable&&J.contains(e)&&(E.maximized?R.restore():R.maximize());e&&(e.className||"").indexOf("dialog-button")<0;)e=e.parentNode;e&&e.buttonItem&&R.action&&R.action(e.buttonItem,p),delete l.$8d,delete l.$9d}},handle_mouseup:function(Q){this.handle_touchend(Q)},handleWindowTouchEnd:function(k){var z=this,S=z.$1d,X=S.$10d;z.$2d&&z.$3d?X.fire({kind:"endResize",target:S,originEvent:k}):z.$4d&&z.$5d&&X.fire({kind:"endMove",target:S,originEvent:k}),this.clear()},handleWindowMouseUp:function(m){this.handleWindowTouchEnd(m)},handle_mousemove:function(h){var p=this.$1d._config;if(p.maximized)return!1;if("w"!==p.resizeMode&&"h"!==p.resizeMode&&"wh"!==p.resizeMode)return!1;var J=this,s=J.getView(),T=s.querySelector(".resize-area"),S=T.getBoundingClientRect(),k={x:S.left,y:S.top,width:S.width,height:S.height};h=F(h)?C(h):h;var u=h.clientX,c=h.clientY,_={x:u,y:c};return x.containsPoint(k,_)?(m(s,"cursor","nwse-resize"),!0):(m(s,"cursor",N),void 0)},handleWindowTouchMove:function(V){V.preventDefault();var v=V;F(V)&&(v=C(V));var O=this,N=O.$8d,J=O.$9d;if(!(J.x==N.x&&J.y==N.y&&x.getDistance(J,{x:v.pageX,y:v.pageY})<=1)){var k=O.$1d,s=k._config,p=k.$21d,f=s.resizeMode||"wh",A=v.pageX-N.x,R=v.pageY-N.y;if(O.$2d){var d=p.offsetWidth,Q=p.offsetHeight,T=d+A,P=Q+R;if(T=Math.max(T,50),P=Math.max(P,50),"center"===s.position||s.position==u){var H={},l=p.getBoundingClientRect();H.x=l.left,H.y=l.top,s.position=H}"w"===f?(k.setSize(T,Q),N.x+=T-d):"h"===f?(k.setSize(d,P),N.y+=P-Q):"wh"===f&&(k.setSize(T,P),N.x+=T-d,N.y+=P-Q),O.$3d?k.$10d.fire({kind:"betweenResize",target:k,originEvent:V}):(O.$3d=!0,k.$10d.fire({kind:"beginResize",target:k,originEvent:V}))}else if(O.$4d){var t=p.getBoundingClientRect(),M=t.width,i=t.height,X=b(),I=E(),c=y(p.style.left)||0,D=y(p.style.top)||0,q=c+A,S=D+R,n=k.adjustPosition({x:q,y:S},{width:M,height:i},{width:X,height:I});n&&(q=n.x,S=n.y);var o=q-c,B=S-D;m(p,K,q+_),m(p,L,S+_),N.x+=o,N.y+=B,s.position={x:q,y:S},O.$5d?k.$10d.fire({kind:"betweenMove",target:k,originEvent:V}):(O.$5d=!0,k.$10d.fire({kind:"beginMove",target:k,originEvent:V}))}}},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowResize:function(){var p=this,H=p,y=H._config,q=H.$21d,Q=b(),M=E(),f=y.width,l=y.height,O=y.position||"center";y.maximized?(m(q,o,Q+_),m(q,k,M+_),m(q,L,s),m(q,K,s)):(m(q,o,f+_),m(q,k,l+_),"center"===O?(m(q,K,(Q-f)/2+_),m(q,L,(M-l)/2+_)):(m(q,K,O.x+_),m(q,L,O.y+_))),H.iv()},handle_mousewheel:function(L){L.stopPropagation()},handle_DOMMouseScroll:function(V){V.stopPropagation()}}),$.widget.Dialog=function(Y){var c=this,M=c._view=O.createView(null,c);M[t]="ht-widget-dialog",m(M,P,G),m(M,L,s),m(M,r,s),m(M,K,s),m(M,n,s),m(M,o,"auto"),m(M,k,"auto"),x.baseZIndex!=u&&m(M,"z-index",x.baseZIndex+"");var Q=c.$11d=new d(c);c.bindingHandleWindowResize=Q.handleWindowResize.bind(c),c.$10d=new $.Notifier,Y&&c.setConfig(Y)},J("Dialog",X,{ms_v:1,ms_fire:1,_modal:!0,setTitle:function(D){this._config.title=D,this.getView().querySelector(".dialog-container-title span").innerHTML=D},clearNodes:function(Q){if(Q)for(;Q.firstChild;)Q.removeChild(Q.firstChild)},$31d:function(){var A=this,z=A.$6d=W(),e=A._config,l=A.$12d=A.$13d();z[t]="dialog-container-title",m(z,"cursor","default"),m(z,"white-space","nowrap"),m(z,"overflow","hidden"),m(z,"font",x.dialogTitleLabelFont),m(z,R,e.titleBackground||x.dialogTitleBackground),m(z,"color",e.titleColor||x.dialogTitleLabelColor);var y=c("span"),F=A.$25d();if(e.titleAlign&&m(z,"text-align",e.titleAlign),e.titleIcon){var H=A.$14d=A.$15d();p(z,H)}if(e.title&&e.title.trim&&(e.title=e.title.trim()),y[V]=e.title||"&nbsp;",p(z,y),e.maximizable){var Y=A.$16d=A.$17d();p(l,Y)}if(e.closable){var o=A.$18d=A.$19d();p(l,o)}return p(z,l),m(z,"display","block"),m(z,"line-height",F+_),z},$13d:function(){var o=W();return m(o,P,G),m(o,K,s),m(o,n,5+_),m(o,L,s),m(o,r,s),m(o,"text-align",n),m(o,"white-space","nowrap"),o[t]="dialog-title-controls",o},$20d:function(){var O=this.$21d=W(),k=this._config,U=k.borderWidth;return m(O,P,"fixed"),m(O,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),m(O,"padding",s+" "+U+_+" "+U+_+" "+U+_),m(O,"box-sizing","border-box"),m(O,"-moz-box-sizing","border-box"),O[t]="dialog-container",m(O,R,k.titleBackground||x.dialogTitleBackground),O},$22d:function(){var B,q=this,w=q._config,i=q.$7d=W(),E=w.content,M=0,F=w.contentPadding||0;w.buttons!=u&&w.buttons.length>0&&(M=32),e(E)?i[V]=E:E.getView?(B=E.getView(),p(i,B)):(B=E,p(i,B)),m(i,P,G),m(i,"font",x.dialogContentLabelFont),w.width&&m(i,o,w.width-10-2*F+_),$.Default.appendToScreen(i);var Y=i.offsetWidth+1,j=i.offsetHeight,C=q.$25d();return w.width==u?w.width=Y+10+2*F:m(i,o,"auto"),w.height==u&&(w.height=j+C+M+5+2*F),$.Default.removeHTML(i),B&&(m(B,"box-sizing","border-box"),m(B,"-moz-box-sizing","border-box"),m(B,o,"100%"),m(B,k,"100%")),i[t]="dialog-content",m(i,L,C+F+_),m(i,r,M+F+_),m(i,K,F+_),m(i,n,F+_),m(i,"overflow","hidden"),i},getOverlayDiv:function(){return this.$41d},$23d:function(){if(this.$41d)return this.$41d;var Y=this.$41d=W();return Y[t]="dialog-overlay",m(Y,P,G),m(Y,L,s),m(Y,r,s),m(Y,K,s),m(Y,n,s),m(Y,R,"rgba(235, 235, 235, 0.7)"),Y},_config:u,setSize:function(V,Z){var W=this,z=W._config;z&&(z.width=V,z.height=Z,W.isShowing()&&(W.bindingHandleWindowResize(),W.iv()))},getConfig:function(){return this._config},$24d:function(){var l=this._config,e=l.titleIconSize||16;return f&&(e*=1.2),e},$25d:function(){var m=this._config,v=m.titleHeight||x.widgetTitleHeight;return v},$26d:function(R){var a=this._config;m(R,"margin-right",(a.titleIconGap||(f?8:4))+_),m(R,"cursor","pointer"),m(R,"display","inline-block"),m(R,"vertical-align",L)},$27d:function(){var x=this.$30d=W(),y=10;return f&&(y=20),m(x,o,y+_),m(x,k,y+_),m(x,P,G),m(x,r,s),m(x,n,s),x[t]="resize-area",x},$15d:function(){var l=this,P=z();P[t]="dialog-title-control dialog-title-control-icon";var _=l.$25d(),J=l.$24d();return l.$26d(P),O.setCanvas(P,J,_),P},$17d:function(){var T=z();T[t]="dialog-title-control dialog-title-control-maximize";var W=this.$25d(),v=this.$24d();return this.$26d(T),O.setCanvas(T,v,W),T},$19d:function(){var U=z();U[t]="dialog-title-control dialog-title-control-close";var L=this.$25d(),m=this.$24d();return this.$26d(U),O.setCanvas(U,m,L),U},$28d:function(){var K=W();return m(K,R,x.dialogContentBackground||"white"),m(K,o,"100%"),m(K,k,"100%"),m(K,P,"relative"),K},$29d:function(){var O=this,y=W();m(y,"line-height",32+_),m(y,"font-size",0+_),m(y,P,G),m(y,r,s),m(y,K,s),m(y,"white-space","nowrap"),m(y,"overflow","hidden"),m(y,n,s),m(y,R,x.dialogHeaderBackground),y[t]="dialog-container-buttons";var d=this._config,U=d.buttonsAlign||n,S=0;return m(y,"text-align",U),O.$42d=[],d.buttons.forEach(function(s){var d={};for(var W in s)d[W]=s[W];s.background||(d.background=x.dialogButtonBackground),s.selectBackground||(d.selectBackground=x.dialogButtonSelectBackground),s.labelColor||(d.labelColor=x.dialogButtonLabelColor);var A=x.createObject($.widget.Button,d),r=A.getView();r[t]="dialog-button "+s.className,r.buttonItem=s,O.$42d.push(A),m(r,P,"relative"),m(r,"display","inline-block"),m(r,"text-align",K),m(r,"height",24+_);var R=f?10:5;U===K||U===n?m(r,"margin-"+U,R+_):0===S||m(r,"margin-"+K,R+_),m(r,"vertical-align","middle");var L=x.getTextSize(A.getLabelFont(),s.label).width+10;A.onClicked=function(e){s.action&&s.action.call(O,s,e)},m(r,o,L+_),p(y,A.getView()),S++}),y},setConfig:function(G){if(G){var V=this,W=V._view;V._config=G,V.action=G.action,V.clearNodes(W),G.borderWidth==u&&(G.borderWidth=5);var h=V.$23d(),Q=V.$28d(),k=V.$31d(),A=V.$22d(),T=V.$20d(),J=V.$30d=V.$27d();if(p(W,h),p(W,T),p(T,Q),p(Q,k),p(Q,A),G.buttons!=u&&G.buttons.length>0){var w=V.$29d();p(Q,w)}p(T,J),G.maximized?(G.maximized=!1,V.bindingHandleWindowResize(),V.maximize(!0)):V.bindingHandleWindowResize(),V.isShowing()&&V.iv()}},hide:function(){var P=this,J=P.$21d,j=P.$41d,Q=P._view;Q[t]="ht-widget-dialog",w(J).duration(200).scale(.7).set(T,s).end(function(){P.onHidden&&P.onHidden(),$.Default.removeHTML(Q),P.$10d.fire({kind:"hide",target:P})}),w(j).duration(200).set(T,s).end(),S(U,"resize",P.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(y){this._modal=y;var n=this.$23d();n.style.display=y?"block":"none";var P=this._view;m(P,o,y?"auto":s),m(P,k,y?"auto":s)},isModal:function(){return this._modal},$32d:function(){var M=this,z=M._config,K=M.$21d;a(K,N),M.iv(),z.maximized?M.$10d.fire({kind:"maximize",target:M}):M.$10d.fire({kind:"restore",target:M})},maximize:function(T){var M=this,n=M.$21d,a=M._config;if(!a.maximized){a.maximized=!0,M.$33d(),M.$16d[t]="dialog-title-control dialog-title-control-minimize";var v=a.width,h=a.height,S=y(n.style.left)||0,i=y(n.style.top)||0;M.$36d=v,M.$37d=h,M.$34d=S,M.$35d=i;var P,z=T?0:200,l=this._view.parentNode;P=l&&l!==document.body?this._view.parentNode.getBoundingClientRect():x.getWindowInfo(),w(n).duration(z).set(K,P.left+_).set(L,P.top+_).set(o,P.width+_).set(k,P.height+_).end(function(){M.$32d()})}},restore:function(){var h=this,Y=h.$34d,Z=h.$35d,R=h.$36d,q=h.$37d,y=h._config;if(y.maximized&&(y.maximized=!1,h.$33d(),h.$16d[t]="dialog-title-control dialog-title-control-maximize",h.isShowing()&&Y!=u&&Z!=u&&R!=u&&q!=u)){var b=h.$21d;w(b).duration(200).set(K,Y+_).set(L,Z+_).set(o,R+_).set(k,q+_).end(function(){h.$32d()})}delete h.$34d,delete h.$35d,delete h.$36d,delete h.$37d},show:function(y){var h=this,p=h._view,l=h._config,P=h.$21d,e=h.$41d;y=y||l.parentDOM,l&&l.zIndex!=u&&m(p,"z-index",l.zIndex+N),y?$.Default.appendChild(y,p):$.Default.appendToScreen(p),a(P,"scale(0.7)"),m(P,T,s),h.iv(),h.validate(),h._view[t]+=" dialog-show",Q(function(){w(P).duration(200).scale(1).set(T,"1").end(function(){m(P,o,P.clientWidth+_),m(P,k,P.clientHeight+_),h.onShown&&h.onShown(),h.$10d.fire({kind:"show",target:h});var B=l&&l.content;B&&B.iv&&B.iv()}),w(e).duration(200).set(T,"1").end(),M(U,"resize",h.bindingHandleWindowResize)},30)},setPosition:function(K){var C=this.$21d;C.style.left=K.x+"px",C.style.top=K.y+"px"},addEventListener:function(j,N,y){this.$10d.add(j,N,y)},removeEventListener:function(i,G){this.$10d.remove(i,G)},$38d:function(v,f,w,E){var k=O.initContext(v);O.translateAndScale(k,0,0,1),k.clearRect(0,0,w,w);var g=(w-E)/2;x.drawStretchImage(k,x.getImage(f),"fill",0,g,E,E),k.restore()},$33d:function(){var P=this,w=P._config,o=P.$16d,Q=w.maximized?x.dialogRestoreIcon:x.dialogMaximizeIcon;if(o&&Q){var j=P.$25d(),M=P.$24d();P.$38d(o,x.getImage(Q),j,M)}},$39d:function(){var z=this,P=z._config,q=z.$14d,U=P.titleIcon;if(q&&U){var u=z.$25d(),b=z.$24d();z.$38d(q,x.getImage(U),u,b)}},$40d:function(){var I=this,K=I.$18d,q=x.dialogCloseIcon;if(K&&q){var N=I.$25d(),k=I.$24d();I.$38d(K,x.getImage(q),N,k)}},invalidate:function(K){var i=this,t=i.$42d;i._68I||(i._68I=1,x.callLater(i.validate,i,u,K),i.onInvalidated&&i.onInvalidated(),i.fireViewEvent("invalidate"));var j=i._config.content;j.invalidate&&j.invalidate(),t&&t.forEach(function(L){L.iv()})},validateImpl:function(){var a=this;a.$40d(),a.$33d(),a.$39d();var Q=a._config.content;Q.initView&&(Q.setX(0),Q.setY(0),Q.setWidth(a.$7d.clientWidth),Q.setHeight(a.$7d.clientHeight))},adjustPosition:function(R,W,B){var u=W.width,T=W.height,U=B.width,S=B.height,X=R.x,e=R.y,v=this._config,z=v.minDragSize||20;return"inside"===v.dragMode?(X+u>U&&(X=U-u),e+T>S&&(e=S-T),0>X&&(X=0),0>e&&(e=0)):(null==v.dragMode||"none"===v.dragMode)&&(-u+z>X&&(X=-u+z),X>U-z&&(X=U-z),e>S-z&&(e=S-z),0>e&&(e=0)),{x:X,y:e}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);