!function(t,y){"use strict";var f="ht",Z=t[f],Q="innerHTML",p="className",T=null,B="px",_=Z.Default,m=_.getInternal(),s="0",H=function(){return document},i=function(g){return H().createElement(g)},V=function(){return i("canvas")},X=function(i,F,z){i.style.setProperty(F,z,T)},C=function(s,W,r){_.def(Z.widget[s],W,r)},I=function(y,K){y.appendChild(K)},J=function(N,g){N.removeChild(g)},G=m.addEventListener,A=m.removeEventListener,d=_.isTouchable,S=_.isTouchEvent;m.addMethod(_,{menuLabelFont:(d?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),Z.widget.Menu=function(u){var C=this,j=C._view=m.createView(null,C),D=C.$1g=new Z.widget.ContextMenu,r=i("ul");D._r=!0,D._view[p]+=" ht-widget-dropdownmenu",j[p]="ht-widget-menu",r[p]="header",X(j,"margin",s),X(j,"padding",s),X(j,"background",_.menuBackground),X(j,"-webkit-user-select","none"),X(j,"-moz-user-select","none"),X(j,"user-select","none"),X(j,"text-align","left"),X(j,"border-bottom",_.menuSeparatorWidth+"px solid "+_.menuSeparatorColor),X(j,"cursor","default"),X(j,"overflow","auto"),X(j,"white-space","nowrap"),X(j,"font",_.menuLabelFont),X(j,"color",_.menuLabelColor),X(j,"box-sizing","border-box"),X(j,"-moz-box-sizing","border-box"),X(r,"list-style","none"),X(r,"margin",s),X(r,"padding",s),X(r,"display","inline-block"),I(j,r),C.setItems(u),C.$2g=function(W){C.$3g(W)},C.$4g=function(B){C.$5g(B)},C.$6g=function(q){C.$7g(q)},C.$8g=function(j){C.$9g(j)},C.$9b=function(t){C.$10g(t)},C._autoShow=!0,C.setAutoShow(!1),D.afterHide=function(){C.$11g()},D.afterShow=function(){C.$12g()},A(H(),"keydown",D.$3b),C.$3b=function(S){C.$13g(S)},C.invalidate()},C("Menu",y,{_items:T,$14g:_.menuHoverBackground,$15g:_.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(V){var E=this;if(E.$21g=V,E.setItems(E._items),"largeicons"===V){for(var j=E._view.querySelectorAll(".header-item"),R=0,H=0;H<j.length;H++){var D=j[H];R=Math.max(R,D.clientWidth)}for(var H=0;H<j.length;H++){var D=j[H];X(D,"min-width",R+B)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(S){this.$22g=S;for(var o=this._view.querySelectorAll(".header-item"),Y=0;Y<o.length;Y++){var A=o[Y];X(A,"margin-left",S+B),X(A,"margin-right",S+B)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(N){this.$23g=N;for(var z=this._view.querySelectorAll(".header-item"),Z=0;Z<z.length;Z++){var H=z[Z];X(H,"margin-top",N+B),X(H,"margin-bottom",N+B)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(z){this.$24g=z,X(this._view,"text-align",z)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var R=this,n=R._enableGlobalKey;n===!1&&(G(H(),"keydown",R.$3b),R._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,A(H(),"keydown",this.$3b)},setHoverBackground:function(l){this.$14g=l},setHoverColor:function(S){this.$15g=S},setItems:function(D){var g=this,O=g._view,z=g.$21g;if(g._items=D,O.children[0][Q]="",g.$16g={},D&&D.length){for(var m=O.children[0],Y=0,U=H().createDocumentFragment();Y<D.length;Y++){var b=D[Y],$=i("li"),d=i("span");if(b.icon){var G=V();G[p]="menu-item-icon","smallicons"===z?(X(G,"height","1.2em"),X(G,"width","1.2em"),X(G,"vertical-align","middle")):(X(G,"height","32px"),X(G,"width","32px"),X(G,"display","block"),X(G,"margin","0 auto")),G.$20g=b.icon,I($,G)}$[p]="header-item",X($,"display","inline-block"),X($,"vertical-align","top"),X($,"padding","0 1.2em"),X($,"line-height","1.8em"),"largeicons"===z&&X($,"text-align","center"),X($,"background-color","rgba(0,0,0,0)"),$.setAttribute("data-index",Y),g.$16g[Y]=b.items,d[Q]=b.label,"iconsonly"!==z&&I($,d),I(U,$)}I(m,U)}},showDropdownMenu:function(x){var j=this,t=j.$16g[x],q=j.$1g,L=j._view.children[0].children[x],H=j.$17g;if(L&&L!==H){H&&j.hideDropdownMenu();var O=L.getBoundingClientRect(),k=_.getWindowInfo();j.$17g=L,q.setItems(t),q.show(O.left+k.left,O.top+O.height+k.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(h,e){var I=this,Y=I._items;return Y&&0!==Y.length?I.$1g.getItemByProperty(h,e,Y):T},$12g:function(){var m=this,b=m.$17g;b.style.background=m.$14g,b.style.color=m.$15g,m._autoShow||G(H(),d?"touchstart":"mousedown",m.$9b)},$11g:function(){var w=this,h=w.$17g;h&&(h.style.background="",h.style.color="",w.$17g=T),A(H(),d?"touchstart":"mousedown",w.$9b)},$10g:function(S){var L=this,A=L._view,j=L.$1g,d=A.children[0];!H().body.contains(A)||d.contains(S.target)||j._view.contains(S.target)||L.hideDropdownMenu()},$13g:function(n){var p=this,V=p.$1g;H().body.contains(p._view)&&V.$13b.$4b.call(V.$13b,n,p._items)},setAutoShow:function(J){var U=this,v=U.$1g,p=U._view;U._autoShow!==J&&(U._autoShow?(A(p,"mouseover",U.$2g),A(p,"mouseout",U.$4g),A(v._view,"mouseout",U.$4g),d||(G(p,"mouseover",U.$8g),G(p,"mouseout",U.$8g)),G(p,d?"touchstart":"mousedown",U.$6g)):(A(p,"mouseover",U.$8g),A(p,"mouseout",U.$8g),A(p,d?"touchstart":"mousedown",U.$6g),A(H(),d?"touchstart":"mousedown",U.$9b),d||(G(p,"mouseover",U.$2g),G(p,"mouseout",U.$4g),G(v._view,"mouseout",U.$4g))),U._autoShow=J)},$3g:function(N){var C=this,A=C._view.children[0],O=N.target;if(A!==O&&A.contains(O)){for(;"header-item"!==O[p];)O=O.parentNode;C.showDropdownMenu(O.getAttribute("data-index"))}},$5g:function(w){var Z=this,o=Z._view.children[0],W=Z.$1g,Y=w.target,v=w.relatedTarget;!o.contains(Y)&&!W._view.contains(Y)||o.contains(v)||W._view.contains(v)||Z.hideDropdownMenu()},$7g:function(e){e.preventDefault();var D=this,U=D._view.children[0],E=D.$1g,Q=e.target;if(_.isLeftButton(e)&&U!==Q&&U.contains(Q))if(S(e)){for(;"header-item"!==Q[p];)Q=Q.parentNode;var Y=Q.getAttribute("data-index"),E=D.$1g,W=D._view.children[0].children[Y],m=D.$17g;E.isShowing()&&D.hideDropdownMenu(),W!==m&&D.showDropdownMenu(Y)}else if(E.isShowing())D.hideDropdownMenu();else{for(;"header-item"!==Q[p];)Q=Q.parentNode;D.showDropdownMenu(Q.getAttribute("data-index"))}},$9g:function(C){var F=this,c=F._view,H=F.$1g,Y=C.target;if(c.contains(Y)){for(var b=c.querySelectorAll(".header-item"),t=T,_=0;_<b.length;_++){var w=b[_];w.style.background="",w.style.color="","mouseover"===C.type?w.contains(Y)&&(t=w):"mouseout"===C.type&&H.isShowing()&&F.$17g===w&&(t=w)}H.isShowing()&&(t||(t=F.$17g),F.showDropdownMenu(t.getAttribute("data-index"))),t&&(t.style.background=F.$14g,t.style.color=F.$15g)}},getShowingMenuIndex:function(){var a=this.$17g;return a?a.getAttribute("data-index"):-1},addTo:function(N){var d=this,e=d._view;I(N,e),d.invalidate()},dispose:function(){var S=this,g=S._view,l=S.$1g;g&&(S._autoShow?(A(g,"mouseover",S.$2g),A(g,"mouseout",S.$4g),A(l._view,"mouseout",S.$4g)):(A(g,"mouseover",S.$8g),A(g,"mouseout",S.$8g),A(g,d?"touchstart":"mousedown",S.$6g),A(H(),d?"touchstart":"mousedown",S.$9b)),A(H(),"keydown",S.$3b),l.dispose(),g.parentNode&&J(g.parentNode,g),S._view=S.$1g=S.$16g=S._items=S.$17g=S.$2g=S.$4g=S.$6g=S.$8g=S.$9b=S.$3b=T)},$19g:function(z,c,f,y){var i=m.initContext(z);m.translateAndScale(i,0,0,1),i.clearRect(0,0,f,y),_.drawStretchImage(i,_.getImage(c),"fill",0,0,f,y),i.restore()},validateImpl:function(){var i,g,z,G=this,D=G._view,V=D.querySelectorAll(".menu-item-icon");for(z=0;z<V.length;z++){var s=V[z];i=s.clientWidth,g=s.clientHeight,i&&g&&(m.setCanvas(s,i,g),G.$19g(s,_.getImage(s.$20g),i,g))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);